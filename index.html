<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Fizcal IA</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="stylesheet" href="style.css" />
</head>

<body data-theme="light">

<header class="app-header">
  <div class="header-content header-flex">
    <div>
      <h1>Fizcal IA</h1>
      <p class="subtitle">Asistente de despacho fiscal</p>
      <p class="tagline">
        Redacci√≥n de hechos, tipicidad, diligencias y providencias fiscales.
      </p>
    </div>

    <button id="themeToggle" class="theme-toggle">üåô</button>
  </div>
</header>

<main class="container">

  <!-- ENTRADA -->
  <section class="card">
    <h2>Entrada del caso / escrito</h2>

    <textarea
      id="caseInput"
      rows="10"
      placeholder="Ingrese el relato de los hechos, escrito recibido o informaci√≥n relevante para el an√°lisis fiscal‚Ä¶"
    ></textarea>

    <div class="file-row">
      <input type="file" id="pdfInput" accept="application/pdf" />
    </div>
  </section>

  <!-- HERRAMIENTAS -->
  <section class="card">
    <h2>Herramientas</h2>

    <div class="button-group">
      <button id="btnHechos" class="tool-btn">Hechos</button>
      <button id="btnTipicidad" class="tool-btn">Tipicidad</button>
      <button id="btnDiligencias" class="tool-btn">Diligencias</button>
      <button id="btnProveer" class="tool-btn">Proveer ‚Äì T√©ngase Presente</button>
    </div>
  </section>

  <!-- SALIDA -->
  <section class="card">
    <h2>Resultado</h2>
    <pre id="output" class="output"></pre>

    <div id="loadingIndicator" class="loading hidden">
      ‚è≥ Analizando el caso‚Ä¶
    </div>
  </section>

  <!-- HISTORIAL -->
  <section class="card">
    <h2 style="display:flex; justify-content:space-between; align-items:center;">
      <span>
        Historial (<span id="historyCount">0</span> ‚≠ê)
      </span>

      <div>
        <button id="filterFavoritesBtn" class="filter-btn">‚≠ê Favoritos</button>
        <button id="clearHistoryBtn" class="danger-btn">üóëÔ∏è Borrar todo</button>
      </div>
    </h2>

    <ul id="historyList" class="history-list">
      <li class="empty">No hay consultas guardadas.</li>
    </ul>
  </section>

</main>

<footer class="app-footer">
  <small>
    Herramienta de apoyo a la labor fiscal.
    No sustituye el criterio del Fiscal.
    Todos los derechos reservados. 2026.
    Creado por ChatGPT-4 y desarrollado por Jhonathan Anthony Andres Barba.
  </small>
</footer>

<!-- PDF.JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>

<!-- APP -->
<script src="app.js"></script>

</body>
</html>
