<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Fizcal IA</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

<header class="app-header">
  <div class="header-content header-flex">
    <div>
      <h1>Fizcal IA</h1>
      <p class="subtitle">Asistente de despacho fiscal</p>
      <p class="tagline">
        RedacciÃ³n rÃ¡pida de hechos, tipicidad, diligencias y providencias fiscales.
      </p>
    </div>

    <!-- ğŸŒ™ SWITCH TEMA -->
    <button id="themeToggle" class="theme-toggle" title="Cambiar tema">
      ğŸŒ™
    </button>
  </div>
</header>

<main class="container">

  <!-- CASO -->
  <section class="card">
    <h2>1. Caso o escrito</h2>

    <textarea id="caseInput"
      placeholder="Pega aquÃ­ el caso fiscal, escrito u oficio">
    </textarea>

    <button id="loadCaseBtn">Cargar texto</button>

    <div style="margin-top:10px;">
      <div class="pdf-upload">
  <span class="pdf-label">O cargar desde PDF:</span>

  <label class="pdf-button">
    ğŸ“„ Cargar PDF
    <input type="file" id="pdfInput" accept="application/pdf" hidden />
  </label>

  <span id="pdfFileName" class="pdf-filename">
    NingÃºn archivo seleccionado
  </span>
</div>
    </div>
  </section>

  <!-- HERRAMIENTAS -->
  <section class="card disabled" id="toolsSection">
    <h2>2. Herramientas</h2>
    <div class="tools">
      <button data-action="hechos">Hechos</button>
      <button data-action="tipicidad">Tipicidad</button>
      <button data-action="diligencias">Diligencias</button>
      <button data-action="proveer">Proveer â€“ TÃ©ngase Presente</button>
    </div>
  </section>

  <!-- RESULTADO -->
  <section class="card">
    <h2>Resultado</h2>
    <pre id="output" class="output">
AquÃ­ aparecerÃ¡ el resultadoâ€¦
    </pre>
  </section>

  <!-- HISTORIAL -->
  <section class="card">
   <h2 style="display:flex; justify-content:space-between; align-items:center;">
    <span>
    Historial de consultas (<span id="historyCount">0</span> â­)
    </span>

    <div>
    <button id="filterFavoritesBtn" class="filter-btn">â­ Favoritos</button>
    <button id="clearHistoryBtn" class="danger-btn">ğŸ—‘ï¸ Borrar todo</button>
    </div>
  </h2>


    <ul id="historyList" class="history-list">
      <li class="empty">No hay consultas guardadas.</li>
    </ul>
  </section>

</main>

<footer class="app-footer">
  <small>Herramienta de apoyo. No reemplaza el criterio fiscal. Todos los derechos reservados - Creado por Jhonathan Anthony Andres Barba con la tecnologÃ­a de OpenAI</small>
</footer>

<!-- PDF.JS (DEBE IR ANTES DE app.js) -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>

<!-- APP -->
<script src="app.js"></script>

</body>
</html>
